<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Asset</title>
<link rel="stylesheet" href="/style.css">
<script src="/main.js" defer></script>
</head>

<body>

<header class="topbar">
  <div class="container topbar-inner">

    <div class="logo">Crypto Watcher</div>

    <nav>
      <a href="/">Home</a>
      <a href="/search">Search</a>

      <a href="/login" id="loginBtn">Login</a>
      <a href="#" id="logoutBtn">Logout</a>
    </nav>

  </div>
</header>


<main class="asset-wrapper">

  <div class="asset-card">

    <div class="asset-head">

      <img id="img">

      <div>
        <h1 id="name"></h1>
        <span id="symbol"></span>
      </div>

    </div>


    <div class="asset-price">
      <b id="price">$0</b>
    </div>


    <div class="asset-grid">

      <div>
        <span>Market Cap</span>
        <b id="cap">$0</b>
      </div>

      <div>
        <span>24h Change</span>
        <b id="change">0%</b>
      </div>

      <div>
        <span>Description</span>
        <p id="desc">-</p>
      </div>

    </div>


    <div class="asset-btns">
      <a href="/search">← Back</a>
      <a href="/">Home</a>
    </div>

  </div>

</main>


<footer>
Crypto Watcher © 2026
</footer>


<script>

function money(n){
  return n ? "$"+Number(n).toLocaleString() : "-";
}

async function load(){

  const id = location.pathname.split("/").pop();

  const res = await fetch("/api/assets/"+id);
  const a = await res.json();

  img.src = a.imageUrl || "https://cdn-icons-png.flaticon.com/512/825/825508.png";

  name.textContent = a.name;
  symbol.textContent = a.symbol;

  price.textContent = money(a.price);
  cap.textContent = money(a.marketCap);

  change.textContent = a.change24h ? a.change24h+"%" : "-";

  desc.textContent = a.description || "No description";
}

load();

</script>

</body>
</html>
